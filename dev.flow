visibility: private
tags:
  - development
executables:
  - verb: run
    name: pre-commit
    aliases: [pc, validate]
    description: Run the repo's pre-commit script
    exec:
      params:
        - envKey: COLORFGBG
          text: 15;0
        - envKey: COLORTERM
          text: truecolor
        - envKey: TERM
          text: xterm-256color
      dir: //
      cmd: |
        go fmt ./...
        go mod tidy
        golangci-lint run ./...
        go test ./...

# TODO: fix running of tea programs from within the container
#  - verb: run
#    name: sample
#    description: Run the sample container program
#    exec:
#      dir: //
#      args:
#        - envKey: VIEW
#          pos: 1
#          default: frame
#      logMode: text
#      cmd: go run ./sample --view $VIEW
#